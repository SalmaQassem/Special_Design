let settingsOptions=document.querySelector(".settings"),settingsIconContainer=document.querySelector(".icon"),colors=document.querySelectorAll(".color"),rbNoBtn=document.querySelector(".rbButtons .no"),rbYesBtn=document.querySelector(".rbButtons .yes"),random,landing=document.getElementById("landing"),sbYesBtn=document.querySelector(".sbButtons .yes"),sbNoBtn=document.querySelector(".sbButtons .no"),bullets=document.querySelector(".bulletsContainer"),resetBtn=document.querySelector(".reset"),toggleBtn=document.querySelector(".toggleButton"),navBar=document.querySelector(".links"),links=navBar.querySelectorAll("li"),linksArr=Array.from(links),skillsSection=document.getElementById("Skills"),progressBars=document.querySelectorAll(".skill-box .bar span"),images=document.querySelectorAll("#Gallery .image > img"),fullImage=document.querySelectorAll("#Gallery .full-image"),overlay=document.querySelectorAll("#Gallery .image-overlay"),closeBtn=document.querySelectorAll("#Gallery .full-image .close");function restoreLocalStorageValues(){restoreColor(),restoreSelectedButtons()}function restoreColor(){let e=window.localStorage.getItem("Color");if(e){document.documentElement.style.setProperty("--mainColor",e),removeSelectedClass();document.querySelector(`li[data-color="${e}"]`).classList.add("selected")}}function removeSelectedClass(){for(let e=0;e<colors.length;e++)colors[e].classList.remove("selected")}function restoreSelectedButtons(){let e=window.localStorage.getItem("rbBtn");e&&("yes"===e?(rbYesBtn.classList.add("active"),rbNoBtn.classList.remove("active")):"no"===e&&(rbNoBtn.classList.add("active"),rbYesBtn.classList.remove("active")));let t=window.localStorage.getItem("sbBtn");t&&("yes"===t?(sbYesBtn.classList.add("active"),sbNoBtn.classList.remove("active")):"no"===t&&(sbNoBtn.classList.add("active"),sbYesBtn.classList.remove("active")))}function startRandomBackgrounds(){let e=["01.webp","02.webp","03.webp","04.webp","05.webp"];random=setInterval(()=>{let t=Math.floor(Math.random()*e.length);landing.style.backgroundImage='url("images/'+e[t]+'")'},1e4)}window.addEventListener("pageshow",e=>{e.persisted&&!document.cookie.match(/my-cookie/)&&location.reload()}),settingsIconContainer.addEventListener("click",()=>{settingsOptions.classList.contains("close")?(settingsOptions.classList.remove("close"),settingsOptions.classList.add("open"),settingsIconContainer.classList.add("spin")):settingsOptions.classList.contains("open")&&(settingsOptions.classList.remove("open"),settingsOptions.classList.add("close"),settingsIconContainer.classList.remove("spin"))}),document.addEventListener("click",e=>{if(e.target.classList.contains("color")){removeSelectedClass(),e.target.classList.add("selected");let t=e.target.dataset.color;document.documentElement.style.setProperty("--mainColor",t),window.localStorage.setItem("Color",t)}}),rbYesBtn.addEventListener("click",()=>{rbYesBtn.classList.add("active"),rbNoBtn.classList.remove("active"),startRandomBackgrounds(),window.localStorage.setItem("rbBtn","yes")}),rbNoBtn.addEventListener("click",()=>{rbNoBtn.classList.add("active"),rbYesBtn.classList.remove("active"),clearInterval(random),window.localStorage.setItem("rbBtn","no")}),sbYesBtn.addEventListener("click",()=>{sbYesBtn.classList.add("active"),sbNoBtn.classList.remove("active"),bullets.style.display="block",window.localStorage.setItem("sbBtn","yes")}),sbNoBtn.addEventListener("click",()=>{sbNoBtn.classList.add("active"),sbYesBtn.classList.remove("active"),bullets.style.display="none",window.localStorage.setItem("sbBtn","no")}),resetBtn.addEventListener("click",()=>{window.localStorage.removeItem("Color"),window.localStorage.removeItem("rbBtn"),window.localStorage.removeItem("sbBtn"),window.location.reload()}),toggleBtn.addEventListener("click",e=>{e.stopPropagation(),navBar.classList.contains("open")?navBar.classList.remove("open"):navBar.classList.add("open")}),window.addEventListener("resize",()=>{window.innerWidth>=992&&navBar.classList.remove("open")}),document.addEventListener("click",e=>{let t=linksArr.filter(t=>t===e.target);e.target!==navBar&&e.target!==toggleBtn&&0===t.length&&navBar.classList.contains("open")&&navBar.classList.remove("open")}),window.addEventListener("scroll",()=>{let e=skillsSection.offsetTop,t=skillsSection.offsetHeight,s=this.innerHeight;if(this.pageYOffset>=e+t-s)for(let l=0;l<progressBars.length;l++)progressBars[l].style.width=progressBars[l].getAttribute("progress")});for(let i=0;i<images.length;i++)images[i].addEventListener("click",()=>{fullImage[i].classList.add("open"),overlay[i].classList.add("open")});for(let i=0;i<closeBtn.length;i++)closeBtn[i].addEventListener("click",()=>{fullImage[i].classList.remove("open"),overlay[i].classList.remove("open")});restoreLocalStorageValues(),rbYesBtn.classList.contains("active")?startRandomBackgrounds():rbNoBtn.classList.contains("active")&&clearInterval(random),sbYesBtn.classList.contains("active")?bullets.style.display="block":sbNoBtn.classList.contains("active")&&(bullets.style.display="none");